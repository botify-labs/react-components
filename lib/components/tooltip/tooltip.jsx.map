{"version":3,"sources":["components/tooltip/Tooltip.jsx"],"names":[],"mappings":";;;;;;;;IAAO,KAAK,2BAAM,cAAc;;AAEhC,IAAI,OAAO,GAAG,KAAK,CAAC,WAAW,CAAC;;AAE9B,aAAW,EAAE,SAAS;;AAEtB,WAAS,EAAE;AACT,YAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC;AAC9B,SAAG,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU;AACtC,UAAI,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU;KACxC,CAAC;AACF,UAAM,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM;GAC/B;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,YAAM,EAAE,EAAE,EACX,CAAC;GACH;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO;AACL,WAAK,EAAE,IAAI;AACX,YAAM,EAAE,IAAI,EACb,CAAC;GACH;;AAED,mBAAiB,EAAA,6BAAG;AAClB,QAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;AAEnC,QAAI,CAAC,QAAQ,CAAC;AACZ,WAAK,EAAE,IAAI,CAAC,WAAW;AACvB,YAAM,EAAE,IAAI,CAAC,YAAY,EAC1B,CAAC,CAAC;GACJ;;AAED,oBAAkB,EAAA,4BAAC,SAAS,EAAE,SAAS,EAAE;AACvC,QAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AACnC,QAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC;AAC7B,QAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;;AAE/B,QAAI,KAAK,KAAK,SAAS,CAAC,KAAK,IAAI,MAAM,KAAK,SAAS,CAAC,MAAM,EAAE;AAC5D,UAAI,CAAC,QAAQ,CAAC;AACZ,aAAK,EAAE,IAAI,CAAC,WAAW;AACvB,cAAM,EAAE,IAAI,CAAC,YAAY,EAC1B,CAAC,CAAC;KACJ;GACF;;AAED,QAAM,EAAA,kBAAG;iBACkC,IAAI,CAAC,KAAK;QAA7C,KAAK,UAAL,KAAK;QAAE,QAAQ,UAAR,QAAQ;;QAAK,UAAU;;AACpC,SAAK,gBAAQ,IAAI,CAAC,eAAe,EAAE,EAAK,IAAI,CAAC,iBAAiB,EAAE,EAAK,KAAK,CAAE,CAAC;;AAE7E,WACE;;mBAAS,UAAU,IAAE,SAAS,EAAC,SAAS,EAAC,KAAK,EAAE,KAAK,AAAC;MACnD,QAAQ;KACL,CACN;GACH;;AAED,iBAAe,EAAA,2BAAG;AAChB,WAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,CAAC;GACrD;;AAED,mBAAiB,EAAA,6BAAG;iBACM,IAAI,CAAC,KAAK;QAA5B,KAAK,UAAL,KAAK;QAAE,MAAM,UAAN,MAAM;;AACnB,QAAI,KAAK,KAAK,IAAI,EAAE;;AAElB,aAAO,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;KACpC;;AAED,QAAI,aAAa,GAAG,EAAE,CAAC;iBACI,IAAI,CAAC,KAAK;QAA/B,QAAQ,UAAR,QAAQ;QAAE,MAAM,UAAN,MAAM;;AACtB,QAAI,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC;;;;;;AAM/C,QAAI,QAAQ,CAAC,GAAG,GAAG,MAAM,GAAG,MAAM,GAAG,CAAC,EAAE;AACtC,mBAAa,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,GAAG,MAAM,GAAG,MAAM,CAAC;KACpD,MAAM;AACL,mBAAa,CAAC,GAAG,GAAG,QAAQ,CAAC,GAAG,GAAG,MAAM,CAAC;KAC3C;;AAED,QAAI,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,GAAG,cAAc,EAAE;AAC/E,mBAAa,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC;KAChD,MAAM,IAAI,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG,MAAM,GAAG,CAAC,EAAE;AAC7C,mBAAa,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,KAAK,GAAG,MAAM,CAAC;KACrD,MAAM;AACL,mBAAa,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,MAAM,CAAC;KAC7C;;AAED,WAAO,aAAa,CAAC;GACtB;;CAEF,CAAC,CAAC;;iBAEY,OAAO","file":"components/tooltip/Tooltip.jsx","sourcesContent":["import React from 'react/addons';\n\nvar Tooltip = React.createClass({\n\n  displayName: 'Tooltip',\n\n  propTypes: {\n    position: React.PropTypes.shape({\n      top: React.PropTypes.number.isRequired,\n      left: React.PropTypes.number.isRequired\n    }),\n    margin: React.PropTypes.number\n  },\n\n  getDefaultProps() {\n    return {\n      margin: 10, // x and y margin between the mouse and the tooltip\n    };\n  },\n\n  getInitialState() {\n    return {\n      width: null,\n      height: null,\n    };\n  },\n\n  componentDidMount() {\n    var node = React.findDOMNode(this);\n\n    this.setState({\n      width: node.offsetWidth,\n      height: node.offsetHeight,\n    });\n  },\n\n  componentDidUpdate(prevProps, prevState) {\n    var node = React.findDOMNode(this);\n    let width = node.offsetWidth;\n    let height = node.offsetHeight;\n\n    if (width !== prevState.width || height !== prevState.height) {\n      this.setState({\n        width: node.offsetWidth,\n        height: node.offsetHeight,\n      });\n    }\n  },\n\n  render() {\n    let { style, children, ...otherProps } = this.props;\n    style = { ...this._getCommonStyle(), ...this._getPositionStyle(), ...style };\n\n    return (\n      <div {...otherProps} className=\"Tooltip\" style={style}>\n        {children}\n      </div>\n    );\n  },\n\n  _getCommonStyle() {\n    return { position: 'fixed', pointerEvents: 'none' };\n  },\n\n  _getPositionStyle() {\n    var { width, height } = this.state;\n    if (width === null) {\n      // The tooltip hasn't rendered yet\n      return { top: -9999, left: -9999 };\n    }\n\n    var positionStyle = {};\n    var { position, margin } = this.props;\n    var containerWidth = document.body.offsetWidth;\n\n    // Calculate the best position for the tooltip so that\n    //  * it won't overlay its given focus position\n    //  * it won't cross its container's boundaries\n\n    if (position.top - height - margin > 0) {\n      positionStyle.top = position.top - height - margin;\n    } else {\n      positionStyle.top = position.top + margin;\n    }\n\n    if (position.left - width / 2 > 0 && position.left + width / 2 < containerWidth) {\n      positionStyle.left = position.left - width / 2;\n    } else if (position.left - width - margin > 0) {\n      positionStyle.left = position.left - width - margin;\n    } else {\n      positionStyle.left = position.left + margin;\n    }\n\n    return positionStyle;\n  }\n\n});\n\nexport default Tooltip;\n"],"sourceRoot":"/source/"}