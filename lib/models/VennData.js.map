{"version":3,"sources":["models/VennData.js"],"names":[],"mappings":"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","file":"models/VennData.js","sourcesContent":["import {OrderedSet, OrderedMap, Set, Map} from 'immutable';\n\nclass VennData {\n\n  constructor(){\n    this.sets = OrderedSet();\n    this.intersections = OrderedMap();\n  }\n\n  addSet(set) {\n    this._testSet(set);\n    this.sets = this.sets.add(set);\n  }\n\n  addIntersection(sets, intersection) {\n    if(!Set.isSet(sets)){\n      throw new TypeError('sets argument is not a Set');\n    }\n    sets.forEach((set) => {\n      if (!this.sets.contains(set)) {\n        throw new Error('set does not exist');\n      }\n    });\n    this._testSet(intersection);\n\n    this.intersections = this.intersections.set(sets, intersection);\n  }\n\n  getSizeOf(set, inclusive = false) {\n    let size = set.get('size');\n\n    if (!inclusive) {\n      if (this.sets.contains(set)) {\n        this.sets.forEach((other) => {\n          if (other === set) {\n            return;\n          }\n          let intersection = this.getIntersection(set, other);\n          if (intersection === undefined) {\n            return;\n          }\n          size -= intersection.get('size');\n        });\n      } else if (this.intersections.contains(set)) {\n        let sets = this.intersections.findKey((other) => other === set);\n        this.intersections.forEach((otherIntersection, otherSets) => {\n          if (otherIntersection === set) {\n            return;\n          }\n          if (otherSets.isSubset(sets)) {\n            size -= otherIntersection.get('size');\n          }\n        });\n      }\n    }\n\n    return size;\n  }\n\n  getSets() {\n    return this.sets;\n  }\n\n  getIntersections() {\n    return this.intersections;\n  }\n\n  getIntersection(set1, set2) {\n    return this.intersections.get(Set.of(set1, set2));\n  }\n\n  _testSet(set){\n    if(!Map.isMap(set)){\n      throw new TypeError('Set is not an Map');\n    }\n  }\n\n}\n\nexport default VennData;\n"],"sourceRoot":"/source/"}